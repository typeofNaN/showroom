import{i as ee,A as oe,f as j,$ as h,w as V,x as H,y as X,z as E,a as ne,B as te,C as le}from"./index-6672f85a.js";import{_ as ae}from"./dark-mode-switch.vuevuetypescriptsetuptruelang-f75e8f84.js";/* empty css                                                   */import{r as S,e as N,_ as se,d as R,j as B,Q as $,N as M,O as n,R as e,L as o,J as d,c as C,a9 as y,a7 as re,I as G,a8 as ie,F as de,aj as W,y as ce,P as ue,G as pe}from"./vue-0b72000a.js";import"./crypto-de3916ef.js";import"./qs-ac37c01f.js";import"./ua-39f605fe.js";import{u as me}from"./useLoading-bdce5cd9.js";import{x as D,S as O,_ as A,E as I,T,C as _e,U as J,H as fe,R as ge}from"./naive-c480ebd7.js";import"./colord-654bd828.js";import"./axios-82afda87.js";import"./formData-f377b55f.js";import"./lodash-000674ce.js";const Q=/^[1](([3][0-9])|([4][01456789])|([5][012356789])|([6][2567])|([7][0-8])|([8][0-9])|([9][012356789]))[0-9]{8}$/,he=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,ve=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){6,18}$/,we=/^\d{6}$/,q=(_="不能为空")=>({required:!0,message:_}),L={phone:[q("请输入手机号码"),{pattern:Q,message:"手机号码格式错误",trigger:"input"}],pwd:[q("请输入密码"),{pattern:ve,message:"密码为6-18位数字/字符/符号，至少2种组合",trigger:"input"}],code:[q("请输入验证码"),{pattern:we,message:"验证码格式错误",trigger:"input"}],email:[{pattern:he,message:"邮箱格式错误",trigger:"blur"}]};function K(_){return _.trim()===""}function Y(_){return[{required:!0,message:"请输入确认密码"},{validator:(s,u)=>!K(u)&&u!==_.value?Promise.reject(s.message):Promise.resolve(),message:"输入的值与密码不一致",trigger:"input"}]}function ke(_){return[{required:!0,message:"请输入验证码"},{validator:(s,u)=>!K(u)&&u!==_.value?Promise.reject(s.message):Promise.resolve(),message:"验证码不正确",trigger:"blur"}]}function Ce(_){if(_<=0&&_%1!==0)throw new Error("倒计时的时间应该为一个正整数！");const{bool:c,setTrue:s,setFalse:u}=ee(!1),m=S(0),g=N(()=>!!m.value);let v;function t(f=_){m.value||(u(),m.value=f,v=setInterval(()=>{m.value-=1,m.value<=0&&(clearInterval(v),s())},1e3))}function p(){v=clearInterval(v),m.value=0}return se(p),{counts:m,isCounting:g,start:t,stop:p,isComplete:c}}function Z(){const{loading:_,startLoading:c,endLoading:s}=me(),{counts:u,start:m,isCounting:g}=Ce(60),v="获取验证码",t=a=>`${a}秒后重新获取`,p=N(()=>{let a=v;return _.value&&(a=""),g.value&&(a=t(u.value)),a});function f(a){var r,i;let l=!0;return a.trim()===""?((r=window.$message)==null||r.error("手机号码不能为空！"),l=!1):Q.test(a)||((i=window.$message)==null||i.error("手机号码格式错误！"),l=!1),l}async function k(a){var i;if(!f(a)||_.value)return;c();const{data:r}=await oe.fetchSmsCode(a);r&&((i=window.$message)==null||i.success("验证码发送成功！"),m()),s()}return{label:p,start:m,isCounting:g,getSmsCode:k,loading:_}}const be={class:"flex-y-center w-full"},ye=d("div",{class:"w-18px"},null,-1),xe=R({__name:"index",setup(_){const{toLoginModule:c}=j(),{label:s,isCounting:u,loading:m,getSmsCode:g}=Z(),v=S(),t=B({phone:"",code:"",imgCode:""}),p={phone:L.phone,code:L.code};function f(){g(t.phone)}async function k(){var a,l;await((a=v.value)==null?void 0:a.validate()),(l=window.$message)==null||l.success(h("page.login.common.validateSuccess"))}return(a,l)=>{const r=D,i=O,b=A,x=I,z=T;return $(),M(z,{ref_key:"formRef",ref:v,model:t,rules:p,size:"large","show-label":!1},{default:n(()=>[e(i,{path:"phone"},{default:n(()=>[e(r,{value:t.phone,"onUpdate:value":l[0]||(l[0]=w=>t.phone=w),placeholder:o(h)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),e(i,{path:"code"},{default:n(()=>[d("div",be,[e(r,{value:t.code,"onUpdate:value":l[1]||(l[1]=w=>t.code=w),placeholder:o(h)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),ye,e(b,{size:"large",disabled:o(u),loading:o(m),onClick:f},{default:n(()=>[C(y(o(s)),1)]),_:1},8,["disabled","loading"])])]),_:1}),e(x,{vertical:!0,size:"large"},{default:n(()=>[e(b,{type:"primary",size:"large",block:!0,round:!0,onClick:k},{default:n(()=>[C(y(o(h)("page.login.common.confirm")),1)]),_:1}),e(b,{size:"large",block:!0,round:!0,onClick:l[2]||(l[2]=w=>o(c)("pwd-login"))},{default:n(()=>[C(y(o(h)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}}),$e={class:"flex-y-center w-full"},Pe=d("div",{class:"w-18px"},null,-1),ze={class:"pl-8px"},Le=R({__name:"index",setup(_){const c=V(),{toLoginModule:s}=j(),{label:u,isCounting:m,loading:g,getSmsCode:v}=Z(),t=S(),p=B({phone:"",code:"",imgCode:""}),f=S(""),k={phone:L.phone,code:L.code,imgCode:ke(f)};function a(){v(p.phone)}async function l(){var r,i;await((r=t.value)==null?void 0:r.validate()),(i=window.$message)==null||i.success(h("page.login.common.validateSuccess"))}return(r,i)=>{const b=D,x=O,z=A,w=re("image-verify"),F=I,P=T;return $(),M(P,{ref_key:"formRef",ref:t,model:p,rules:k,size:"large","show-label":!1},{default:n(()=>[e(x,{path:"phone"},{default:n(()=>[e(b,{value:p.phone,"onUpdate:value":i[0]||(i[0]=U=>p.phone=U),placeholder:o(h)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),e(x,{path:"code"},{default:n(()=>[d("div",$e,[e(b,{value:p.code,"onUpdate:value":i[1]||(i[1]=U=>p.code=U),placeholder:o(h)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),Pe,e(z,{size:"large",disabled:o(m),loading:o(g),onClick:a},{default:n(()=>[C(y(o(u)),1)]),_:1},8,["disabled","loading"])])]),_:1}),e(x,{path:"imgCode"},{default:n(()=>[e(b,{value:p.imgCode,"onUpdate:value":i[2]||(i[2]=U=>p.imgCode=U),placeholder:o(h)("page.login.codeLogin.imageCodePlaceholder")},null,8,["value","placeholder"]),d("div",ze,[e(w,{code:f.value,"onUpdate:code":i[3]||(i[3]=U=>f.value=U)},null,8,["code"])])]),_:1}),e(F,{vertical:!0,size:18},{default:n(()=>[e(z,{type:"primary",size:"large",block:!0,round:!0,loading:o(c).loginLoading,onClick:l},{default:n(()=>[C(y(o(h)("page.login.common.confirm")),1)]),_:1},8,["loading"]),e(z,{size:"large",block:!0,round:!0,onClick:i[4]||(i[4]=U=>o(s)("pwd-login"))},{default:n(()=>[C(y(o(h)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}}),Re={height:"1337",width:"1337"},Se=d("path",{id:"path-1",opacity:"1","fill-rule":"evenodd",d:"M1337,668.5 C1337,1037.455193874239 1037.455193874239,1337 668.5,1337 C523.6725684305388,1337 337,1236 370.50000000000006,1094 C434.03835568300906,824.6732385973953 6.906089672974592e-14,892.6277623047779 0,668.5000000000001 C0,299.5448061257611 299.5448061257609,1.1368683772161603e-13 668.4999999999999,0 C1037.455193874239,0 1337,299.544806125761 1337,668.5Z"},null,-1),Ue={id:"linearGradient-2",x1:"0.79",y1:"0.62",x2:"0.21",y2:"0.86"},Ne=["stop-color"],Ee=["stop-color"],Me=d("g",{opacity:"1"},[d("use",{"xlink:href":"#path-1",fill:"url(#linearGradient-2)","fill-opacity":"1"})],-1),Ae=R({__name:"corner-top",props:{startColor:{default:"#28aff0"},endColor:{default:"#120fc4"}},setup(_){return(c,s)=>($(),G("svg",Re,[d("defs",null,[Se,d("linearGradient",Ue,[d("stop",{offset:"0","stop-color":c.startColor,"stop-opacity":"1"},null,8,Ne),d("stop",{offset:"1","stop-color":c.endColor,"stop-opacity":"1"},null,8,Ee)])]),Me]))}}),Ge={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",height:"896",width:"967.8852157128662"},Ie=d("path",{id:"path-2",opacity:"1","fill-rule":"evenodd",d:"M896,448 C1142.6325445712241,465.5747656464056 695.2579309733121,896 448,896 C200.74206902668806,896 5.684341886080802e-14,695.2579309733121 0,448.0000000000001 C0,200.74206902668806 200.74206902668791,5.684341886080802e-14 447.99999999999994,0 C695.2579309733121,0 475,418 896,448Z"},null,-1),je={id:"linearGradient-3",x1:"0.5",y1:"0",x2:"0.5",y2:"1"},Be=["stop-color"],De=["stop-color"],Oe=d("g",{opacity:"1"},[d("use",{"xlink:href":"#path-2",fill:"url(#linearGradient-3)","fill-opacity":"1"})],-1),Te=R({__name:"corner-bottom",props:{startColor:{default:"#28aff0"},endColor:{default:"#120fc4"}},setup(_){return(c,s)=>($(),G("svg",Ge,[d("defs",null,[Ie,d("linearGradient",je,[d("stop",{offset:"0","stop-color":c.startColor,"stop-opacity":"1"},null,8,Be),d("stop",{offset:"1","stop-color":c.endColor,"stop-opacity":"1"},null,8,De)])]),Oe]))}}),Ze={class:"absolute-lt z-1 wh-full overflow-hidden"},Fe={class:"absolute -right-300px -top-900px <sm:(-right-100px -top-1170px)"},Xe={class:"absolute -left-200px -bottom-400px <sm:(-left-100px -bottom-760px)"},qe=R({__name:"index",props:{themeColor:{}},setup(_){const c=_,s=N(()=>H(c.themeColor,3)),u=N(()=>H(c.themeColor,6));return(m,g)=>($(),G("div",Ze,[d("div",Fe,[e(o(Ae),{"start-color":s.value,"end-color":u.value},null,8,["start-color","end-color"])]),d("div",Xe,[e(o(Te),{"start-color":u.value,"end-color":s.value},null,8,["start-color","end-color"])])]))}}),Ve=R({__name:"other-account",emits:["login"],setup(_,{emit:c}){const s=[{key:"super",label:X.super,userName:"Super",password:"super123"},{key:"admin",label:X.admin,userName:"Admin",password:"admin123"},{key:"user",label:X.user,userName:"User01",password:"user01123"}];function u(m,g){c("login",{userName:m,password:g})}return(m,g)=>{const v=_e,t=A,p=I;return $(),M(p,{vertical:!0},{default:n(()=>[e(v,{class:"!mb-0 text-14px text-#666"},{default:n(()=>[C(y(o(h)("page.login.pwdLogin.otherAccountLogin")),1)]),_:1}),e(p,{justify:"center"},{default:n(()=>[($(),G(de,null,ie(s,f=>e(t,{key:f.userName,type:"primary",onClick:k=>u(f.userName,f.password)},{default:n(()=>[C(y(f.label),1)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})}}}),He={class:"flex-y-center justify-between"},We={class:"flex-y-center justify-between"},Je=d("div",{class:"w-12px"},null,-1),Qe=R({__name:"index",setup(_){const c=V(),{login:s}=V(),{toLoginModule:u}=j(),m=S(),g=B({userName:"Admin",password:"admin123"}),v={password:L.pwd},t=S(!1);async function p(){var l;await((l=m.value)==null?void 0:l.validate());const{userName:k,password:a}=g;s(k,a)}function f(k){const{userName:a,password:l}=k;s(a,l)}return(k,a)=>{const l=D,r=O,i=J,b=A,x=I,z=T;return $(),M(z,{ref_key:"formRef",ref:m,model:g,rules:v,size:"large","show-label":!1},{default:n(()=>[e(r,{path:"userName"},{default:n(()=>[e(l,{value:g.userName,"onUpdate:value":a[0]||(a[0]=w=>g.userName=w),placeholder:k.$t("page.login.common.userNamePlaceholder")},null,8,["value","placeholder"])]),_:1}),e(r,{path:"password"},{default:n(()=>[e(l,{value:g.password,"onUpdate:value":a[1]||(a[1]=w=>g.password=w),type:"password","show-password-on":"click",placeholder:k.$t("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),e(x,{vertical:!0,size:24},{default:n(()=>[d("div",He,[e(i,{checked:t.value,"onUpdate:checked":a[2]||(a[2]=w=>t.value=w)},{default:n(()=>[C(y(k.$t("page.login.pwdLogin.rememberMe")),1)]),_:1},8,["checked"]),e(b,{text:!0,onClick:a[3]||(a[3]=w=>o(u)("reset-pwd"))},{default:n(()=>[C(y(k.$t("page.login.pwdLogin.forgetPassword")),1)]),_:1})]),e(b,{type:"primary",size:"large",block:!0,round:!0,loading:o(c).loginLoading,onClick:p},{default:n(()=>[C(y(k.$t("page.login.common.confirm")),1)]),_:1},8,["loading"]),d("div",We,[e(b,{class:"flex-1",block:!0,onClick:a[4]||(a[4]=w=>o(u)("code-login"))},{default:n(()=>[C(y(o(E)["code-login"]),1)]),_:1}),Je,e(b,{class:"flex-1",block:!0,onClick:a[5]||(a[5]=w=>o(u)("register"))},{default:n(()=>[C(y(o(E).register),1)]),_:1})])]),_:1}),e(o(Ve),{onLogin:f})]),_:1},8,["model"])}}}),Ke={class:"w-full text-14px"},Ye=R({name:"LoginAgreement",__name:"login-agreement",props:{value:{type:Boolean,default:!0}},emits:["update:value","click-protocol","click-policy"],setup(_,{emit:c}){const s=_,u=N({get(){return s.value},set(v){c("update:value",v)}});function m(){c("click-protocol")}function g(){c("click-policy")}return(v,t)=>{const p=J,f=A;return $(),G("div",Ke,[e(p,{checked:u.value,"onUpdate:checked":t[0]||(t[0]=k=>u.value=k)},{default:n(()=>[C("我已经仔细阅读并接受")]),_:1},8,["checked"]),e(f,{text:!0,type:"primary",onClick:m},{default:n(()=>[C("《用户协议》")]),_:1}),e(f,{text:!0,type:"primary",onClick:g},{default:n(()=>[C("《隐私权政策》")]),_:1})])}}}),eo={class:"flex-y-center w-full"},oo=d("div",{class:"w-18px"},null,-1),no=R({__name:"index",setup(_){const{toLoginModule:c}=j(),{label:s,isCounting:u,loading:m,start:g}=Z(),v=S(),t=B({phone:"",code:"",pwd:"",confirmPwd:""}),p={phone:L.phone,code:L.code,pwd:L.pwd,confirmPwd:Y(W(t).pwd)},f=S(!1);function k(){g()}async function a(){var l,r;await((l=v.value)==null?void 0:l.validate()),(r=window.$message)==null||r.success(h("page.login.common.validateSuccess"))}return(l,r)=>{const i=D,b=O,x=A,z=Ye,w=I,F=T;return $(),M(F,{ref_key:"formRef",ref:v,model:t,rules:p,size:"large","show-label":!1},{default:n(()=>[e(b,{path:"phone"},{default:n(()=>[e(i,{value:t.phone,"onUpdate:value":r[0]||(r[0]=P=>t.phone=P),placeholder:o(h)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),e(b,{path:"code"},{default:n(()=>[d("div",eo,[e(i,{value:t.code,"onUpdate:value":r[1]||(r[1]=P=>t.code=P),placeholder:o(h)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),oo,e(x,{size:"large",disabled:o(u),loading:o(m),onClick:k},{default:n(()=>[C(y(o(s)),1)]),_:1},8,["disabled","loading"])])]),_:1}),e(b,{path:"pwd"},{default:n(()=>[e(i,{value:t.pwd,"onUpdate:value":r[2]||(r[2]=P=>t.pwd=P),type:"password","show-password-on":"click",placeholder:o(h)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),e(b,{path:"confirmPwd"},{default:n(()=>[e(i,{value:t.confirmPwd,"onUpdate:value":r[3]||(r[3]=P=>t.confirmPwd=P),type:"password","show-password-on":"click",placeholder:o(h)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),e(w,{vertical:!0,size:18},{default:n(()=>[e(z,{value:f.value,"onUpdate:value":r[4]||(r[4]=P=>f.value=P)},null,8,["value"]),e(x,{type:"primary",size:"large",block:!0,round:!0,onClick:a},{default:n(()=>[C(y(o(h)("page.login.common.confirm")),1)]),_:1}),e(x,{size:"large",block:!0,round:!0,onClick:r[5]||(r[5]=P=>o(c)("pwd-login"))},{default:n(()=>[C(y(o(h)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}}),to={class:"flex-y-center w-full"},lo=d("div",{class:"w-18px"},null,-1),ao=R({__name:"index",setup(_){const{toLoginModule:c}=j(),{label:s,isCounting:u,loading:m,start:g}=Z(),v=S(),t=B({phone:"",code:"",pwd:"",confirmPwd:""}),p={phone:L.phone,code:L.code,pwd:L.pwd,confirmPwd:Y(W(t).pwd)};function f(){g()}async function k(){var a,l;await((a=v.value)==null?void 0:a.validate()),(l=window.$message)==null||l.success(h("page.login.common.validateSuccess"))}return(a,l)=>{const r=D,i=O,b=A,x=I,z=T;return $(),M(z,{ref_key:"formRef",ref:v,model:t,rules:p,size:"large","show-label":!1},{default:n(()=>[e(i,{path:"phone"},{default:n(()=>[e(r,{value:t.phone,"onUpdate:value":l[0]||(l[0]=w=>t.phone=w),placeholder:o(h)("page.login.common.phonePlaceholder")},null,8,["value","placeholder"])]),_:1}),e(i,{path:"code"},{default:n(()=>[d("div",to,[e(r,{value:t.code,"onUpdate:value":l[1]||(l[1]=w=>t.code=w),placeholder:o(h)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),lo,e(b,{size:"large",disabled:o(u),loading:o(m),onClick:f},{default:n(()=>[C(y(o(s)),1)]),_:1},8,["disabled","loading"])])]),_:1}),e(i,{path:"pwd"},{default:n(()=>[e(r,{value:t.pwd,"onUpdate:value":l[2]||(l[2]=w=>t.pwd=w),type:"password","show-password-on":"click",placeholder:o(h)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),e(i,{path:"confirmPwd"},{default:n(()=>[e(r,{value:t.confirmPwd,"onUpdate:value":l[3]||(l[3]=w=>t.confirmPwd=w),type:"password","show-password-on":"click",placeholder:o(h)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),e(x,{vertical:!0,size:"large"},{default:n(()=>[e(b,{type:"primary",size:"large",block:!0,round:!0,onClick:k},{default:n(()=>[C(y(o(h)("page.login.common.confirm")),1)]),_:1}),e(b,{size:"large",block:!0,round:!0,onClick:l[4]||(l[4]=w=>o(c)("pwd-login"))},{default:n(()=>[C(y(o(h)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}}),so={class:"w-300px sm:w-360px"},ro={class:"flex-y-center justify-between"},io={class:"pt-24px"},co={class:"text-18px text-primary font-medium"},uo={class:"pt-24px"},$o=R({__name:"index",props:{module:{}},setup(_){const c=_,s=ne(),u=[{key:"pwd-login",label:E["pwd-login"],component:Qe},{key:"code-login",label:E["code-login"],component:Le},{key:"register",label:E.register,component:no},{key:"reset-pwd",label:E["reset-pwd"],component:ao},{key:"bind-wechat",label:E["bind-wechat"],component:xe}],m=N(()=>{const t={...u[0]},p=u.find(f=>f.key===c.module);return p&&Object.assign(t,p),t}),g=N(()=>s.darkMode?H(s.themeColor,7):s.themeColor),v=N(()=>{const t="#ffffff",p=s.darkMode?.5:.2;return te(t,s.themeColor,p)});return(t,p)=>{const f=ae,k=le,a=fe,l=ge;return $(),G("div",{class:"relative flex-center wh-full",style:pe({backgroundColor:v.value})},[e(f,{dark:o(s).darkMode,class:"absolute left-48px top-24px z-3 text-20px","onUpdate:dark":o(s).setDarkMode},null,8,["dark","onUpdate:dark"]),e(l,{bordered:!1,size:"large",class:"z-4 !w-auto rounded-20px shadow-sm"},{default:n(()=>[d("div",so,[d("header",ro,[e(k,{class:"text-64px text-primary"}),e(a,{type:"primary",size:28},{default:n(()=>[C(y(o(h)("system.title")),1)]),_:1})]),d("main",io,[d("h3",co,y(m.value.label),1),d("div",uo,[e(ce,{name:"fade-slide",mode:"out-in",appear:""},{default:n(()=>[($(),M(ue(m.value.component)))]),_:1})])])])]),_:1}),e(o(qe),{"theme-color":g.value},null,8,["theme-color"])],4)}}});export{$o as default};
